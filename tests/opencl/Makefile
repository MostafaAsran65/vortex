ROOT_DIR := $(realpath ../..)
include $(ROOT_DIR)/config.mk

all:
	$(MAKE) -C vecadd
	$(MAKE) -C sgemm
	$(MAKE) -C conv3
	$(MAKE) -C psort
	$(MAKE) -C saxpy
	$(MAKE) -C sfilter
	$(MAKE) -C sgemm2
	$(MAKE) -C sgemm3
	$(MAKE) -C psum
	$(MAKE) -C oclprintf
	$(MAKE) -C dotproduct
	$(MAKE) -C transpose
	$(MAKE) -C spmv
	$(MAKE) -C stencil
	$(MAKE) -C lbm
	$(MAKE) -C nearn
	$(MAKE) -C guassian
	$(MAKE) -C kmeans
	$(MAKE) -C blackscholes
	$(MAKE) -C bfs
	$(MAKE) -C backprop
	$(MAKE) -C hotspot3D
	$(MAKE) -C lavaMD
	$(MAKE) -C myocyte
	$(MAKE) -C nw
	$(MAKE) -C pathfinder
	$(MAKE) -C srad
	$(MAKE) -C b+tree
	$(MAKE) -C cfd
	$(MAKE) -C dwt2d
	$(MAKE) -C heartwall
	$(MAKE) -C hotspot
	$(MAKE) -C hybridsort
	$(MAKE) -C lud
	$(MAKE) -C particlefilter
	$(MAKE) -C streamcluster



run-simx:
	$(MAKE) -C vecadd run-simx
	$(MAKE) -C sgemm run-simx
	$(MAKE) -C conv3 run-simx
	$(MAKE) -C psort run-simx
	$(MAKE) -C saxpy run-simx
	$(MAKE) -C sfilter run-simx
	$(MAKE) -C sgemm2 run-simx
	$(MAKE) -C sgemm3 run-simx
	$(MAKE) -C psum run-simx
	$(MAKE) -C oclprintf run-simx
	$(MAKE) -C dotproduct run-simx
	$(MAKE) -C transpose run-simx
	$(MAKE) -C spmv run-simx
	$(MAKE) -C stencil run-simx
	$(MAKE) -C nearn run-simx
	$(MAKE) -C guassian run-simx
	$(MAKE) -C kmeans run-simx
	$(MAKE) -C blackscholes run-simx
	$(MAKE) -C bfs run-simx
	$(MAKE) -C backprop run-simx
	$(MAKE) -C hotspot3D run-simx
	$(MAKE) -C lavaMD run-simx
	$(MAKE) -C myocyte run-simx
	$(MAKE) -C nw run-simx
	$(MAKE) -C pathfinder run-simx
	$(MAKE) -C srad run-simx
	$(MAKE) -C b+tree run-simx
	$(MAKE) -C cfd run-simx
	$(MAKE) -C dwt2d run-simx
	$(MAKE) -C heartwall run-simx
	$(MAKE) -C hotspot run-simx
	$(MAKE) -C hybridsort run-simx
	$(MAKE) -C lud run-simx
	$(MAKE) -C particlefilter run-simx
	$(MAKE) -C streamcluster run-simx

run-rtlsim:
	$(MAKE) -C vecadd run-rtlsim
	$(MAKE) -C sgemm run-rtlsim
	$(MAKE) -C conv3 run-rtlsim
	$(MAKE) -C psort run-rtlsim
	$(MAKE) -C saxpy run-rtlsim
	$(MAKE) -C sfilter run-rtlsim
	$(MAKE) -C sgemm2 run-rtlsim
	$(MAKE) -C sgemm3 run-rtlsim
	$(MAKE) -C psum run-rtlsim
	$(MAKE) -C oclprintf run-rtlsim
	$(MAKE) -C dotproduct run-rtlsim
	$(MAKE) -C transpose run-rtlsim
	$(MAKE) -C spmv run-rtlsim
	$(MAKE) -C stencil run-rtlsim
	$(MAKE) -C nearn run-rtlsim
	$(MAKE) -C guassian run-rtlsim
	$(MAKE) -C kmeans run-rtlsim
	$(MAKE) -C blackscholes run-rtlsim
	$(MAKE) -C bfs run-rtlsim
	$(MAKE) -C backprop run-rtlsim
	$(MAKE) -C hotspot3D run-rtlsim
	$(MAKE) -C lavaMD run-rtlsim
	$(MAKE) -C myocyte run-rtlsim
	$(MAKE) -C nw run-rtlsim
	$(MAKE) -C pathfinder run-rtlsim
	$(MAKE) -C srad run-rtlsim
	$(MAKE) -C b+tree run-rtlsim
	$(MAKE) -C cfd run-rtlsim
	$(MAKE) -C dwt2d run-rtlsim
	$(MAKE) -C heartwall run-rtlsim
	$(MAKE) -C hotspot run-rtlsim
	$(MAKE) -C hybridsort run-rtlsim
	$(MAKE) -C lud run-rtlsim
	$(MAKE) -C particlefilter run-rtlsim
	$(MAKE) -C streamcluster run-rtlsim

clean:
	$(MAKE) -C vecadd clean
	$(MAKE) -C sgemm clean
	$(MAKE) -C conv3 clean
	$(MAKE) -C psort clean
	$(MAKE) -C saxpy clean
	$(MAKE) -C sfilter clean
	$(MAKE) -C sgemm2 clean
	$(MAKE) -C sgemm3 clean
	$(MAKE) -C psum clean
	$(MAKE) -C oclprintf clean
	$(MAKE) -C dotproduct clean
	$(MAKE) -C transpose clean
	$(MAKE) -C spmv clean
	$(MAKE) -C stencil clean
	$(MAKE) -C lbm clean
	$(MAKE) -C nearn clean
	$(MAKE) -C guassian clean
	$(MAKE) -C kmeans clean
	$(MAKE) -C blackscholes clean
	$(MAKE) -C bfs clean
	$(MAKE) -C backprop clean
	$(MAKE) -C hotspot3D clean
	$(MAKE) -C lavaMD clean
	$(MAKE) -C myocyte clean
	$(MAKE) -C nw clean
	$(MAKE) -C pathfinder clean
	$(MAKE) -C srad clean
	$(MAKE) -C b+tree clean
	$(MAKE) -C cfd clean
	$(MAKE) -C dwt2d clean
	$(MAKE) -C heartwall clean
	$(MAKE) -C hotspot clean
	$(MAKE) -C hybridsort clean
	$(MAKE) -C lud clean
	$(MAKE) -C particlefilter clean
	$(MAKE) -C streamcluster clean